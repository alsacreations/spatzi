<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <meta name="author" content="Raphaël Goetter, Alsacreations" />
    <title>Spätzi Contrast Color Tool</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="app">
      <header class="heading" role="banner">
        <h1>Spätzi 🎨</h1>
        <div class="subtitle">
          <p>
            Color contrast helper: get color contrast ratios (<abbr
              title="Web Content Accessibility Guidelines"
              >WCAG</abbr
            >
            and
            <abbr title="Accessible Perceptual Contrast Algorithm">APCA</abbr>)
            and explore
            <abbr title="OK LCh (Luminance, Chroma, Hue)">OKLCH</abbr> color
            variations to generate accessible palettes.
          </p>
        </div>
      </header>

      <div class="more-info">
        <button
          type="button"
          class="button-more"
          aria-expanded="false"
          aria-controls="more-content"
        >
          Learn more?
          <span class="visually-hidden">about how to use this tool</span>
        </button>
        <div
          id="more-content"
          class="more"
          role="region"
          aria-labelledby="more-title"
          hidden
        >
          <h2 id="more-title" tabindex="-1">How to use this tool?</h2>
          <ul>
            <li>
              <strong>Select your base colors:</strong> Use the "Background
              Color" and "Text Color" pickers (or type directly into the text
              fields) to choose your initial colors. Accepted formats include
              keywords (e.g., "rebeccapurple"), OKLCH, HEX, RGB, or HSL.
            </li>
            <li>
              <strong>Observe the "Base Color" box:</strong> This box displays
              your chosen background color. You'll see its representation in
              both OKLCH and sRGB HEX. Below, the WCAG and APCA contrast ratios
              against your chosen text color are shown.
            </li>
            <li>
              <strong>Explore variations with OKLCH sliders:</strong> Adjust the
              "Lightness" (L), "Chroma" (C), and "Hue" (H) sliders. These
              sliders modify the <strong>background color</strong> to create a
              new variant.
            </li>
            <li>
              <strong>Check the "Variant Color" box:</strong> This box shows the
              color generated by the LCH sliders. Like the base color, it
              displays OKLCH and sRGB HEX values, along with its contrast ratios
              against your chosen text color.
            </li>
            <li>
              <strong>Mind the gamut:</strong> If a chosen or generated OKLCH
              color is outside the sRGB gamut (the range of colors most screens
              can reliably display), a warning "(closest sRGB color)" will
              appear next to its HEX representation. The HEX value shown is the
              closest color within the sRGB gamut.
            </li>
            <li>
              <strong>Accessibility insights:</strong> The WCAG and APCA values
              help you ensure your color combinations are accessible. Aim for
              sufficient contrast, especially for text.
            </li>
          </ul>
          <h2>Why <abbr title="Oklab Lightness Chroma Hue">OKLCH</abbr>?</h2>
          <p>
            The OKLCH color space offers many advantages over other color spaces
            in CSS.
          </p>
          <ol>
            <li>
              <strong>Extended gamut:</strong> OKLCH can represent all
              displayable colors on modern screens with a wide color range,
              which is not the case with sRGB (RGB, HSL) which is more limited.
            </li>
            <li>
              <strong>Uniform perception:</strong> OKLCH is based on how the
              human eye actually perceives colors.
            </li>
            <li>
              <strong>Intuitive manipulation:</strong> unlike RGB or hexadecimal
              notation, parameters for hue, lightness, and contrasts are
              intuitive.
            </li>
            <li>
              <strong>Better hue preservation</strong> during transitions or
              gradients.
            </li>
            <li>
              <strong>Precise contrast control:</strong> The lightness component
              (L) directly corresponds to perceived brightness, making it easier
              to create accessible contrasts.
            </li>
          </ol>
          <p>
            Check out the
            <a href="https://caniuse.com/mdn-css_types_color_oklch"
              >browser support</a
            >
            for OKLCH, and read the article
            <a
              href="https://evilmartians.com/chronicles/oklch-in-css-why-quit-rgb-hsl"
              >"OKLCH in CSS: why we moved from RGB and HSL"</a
            >
          </p>
        </div>
      </div>

      <!-- Control Panel -->
      <form class="controls" id="controls">
        <!-- Color controls with dual input (color picker + text) -->
        <div class="control-group color-pickers-group">
          <div class="control control--color control--color-bg">
            <label for="colorPicker">Background Color</label>
            <div class="color-inputs">
              <input
                type="color"
                id="colorPicker"
                name="colorPicker"
                value="#ff69b4"
              />
              <input
                type="text"
                id="colorText"
                name="colorText"
                value="#ff69b4"
              />
            </div>
          </div>
          <div class="control control--color control--color-text">
            <label for="textColorPicker">Text Color</label>
            <div class="color-inputs">
              <input
                type="color"
                id="textColorPicker"
                name="textColorPicker"
                value="#ffffff"
              />
              <input
                type="text"
                id="textColorText"
                name="textColorText"
                value="#ffffff"
              />
            </div>
          </div>
        </div>

        <!-- OKLCH Modification Controls -->
        <div class="control-group lch-sliders-group">
          <!-- Lightness: modifies the L component -->
          <div class="control control--lumi">
            <label for="lumi">Lightness</label>
            <div class="range-wrapper">
              <input
                class="range"
                type="range"
                id="lumi"
                name="lumi"
                min="0"
                max="100"
                step="1"
                value="75"
              />
              <output class="range-value" for="lumi">75%</output>
            </div>
          </div>

          <!-- Chroma: modifies the C component -->
          <div class="control control--chroma">
            <label for="chroma">Chroma</label>
            <div class="range-wrapper">
              <input
                class="range"
                type="range"
                id="chroma"
                name="chroma"
                min="0"
                max="0.4"
                step="0.0001"
                value="0.1"
              />
              <output class="range-value" for="chroma">0.1</output>
            </div>
          </div>

          <!-- Hue: modifies the H component -->
          <div class="control control--hue">
            <label for="hue">Hue</label>
            <div class="range-wrapper">
              <input
                class="range"
                type="range"
                id="hue"
                name="hue"
                min="0"
                max="360"
                step="0.0001"
                value="180"
              />
              <output class="range-value" for="hue">180</output>
            </div>
          </div>
        </div>
      </form>

      <!-- Results Display -->
      <div class="box-group">
        <!-- Base Color -->
        <div class="box box-user">
          <div class="box-body">
            <div class="box-half box-oklch">
              <span class="box-color-value">oklch(0% 0 0)</span>
            </div>
            <div class="box-half box-hex">
              <span class="box-color-value">
                <span class="hex-code">#000000</span>
                <span class="gamut-warning-inline"></span>
              </span>
            </div>
          </div>
          <!-- <code class="color-value oklch-value" id="user-oklch-value">oklch(0% 0 0)</code> -->
          <!-- <span class="hex-value-container">
            <code class="color-value hex-value" id="user-hex-value">#000000</code>
            Gamut warning for HEX will be inserted here by JS
          </span> -->
          <span class="wcag-container">
            <span class="contrast-ratio-display" id="user-wcag-contrast"
              >WCAG2 Contrast: 0.00 ✗</span
            >
            <!-- Gamut warning for WCAG will be inserted here by JS -->
          </span>
          <p class="apca-contrast-display">
            APCA Lc: <span class="apca-lc-value">0.00</span>
          </p>
        </div>

        <div class="box box-variant">
          <div class="box-body">
            <div class="box-half box-oklch">
              <span class="box-color-value">oklch(0% 0 0)</span>
            </div>
            <div class="box-half box-hex">
              <span class="box-color-value">
                <span class="hex-code">#000000</span>
                <span class="gamut-warning-inline"></span>
              </span>
            </div>
          </div>

          <span class="wcag-container">
            <p class="contrast-ratio-display" id="variant-wcag-contrast">
              WCAG2 Contrast: 0.00 ✗
            </p>
            <!-- Gamut warning for WCAG will be inserted here by JS -->
          </span>
          <p class="apca-contrast-display">
            APCA Lc: <span class="apca-lc-value">0.00</span>
          </p>
        </div>
      </div>
    </main>
    <footer class="footer" role="contentinfo">
      <p>Spätzi est un projet <i>fifoo</i> conçu avec ❤️ par</p>
      <a class="logo-link" href="https://www.alsacreations.fr/"
        ><svg
          role="img"
          aria-labelledby="title-alsacreations"
          class="logo-alsacreations"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 241 45"
          width="241"
          height="45"
        >
          <title id="title-alsacreations">Alsacreations</title>
          <g class="logo-alsacreations-pepins-group">
            <path
              class="logo-alsacreations-pepins-outer"
              d="M232 18.5c2.2-1.1 3.5-2.4 4-4 .6-1.9-.2-4-2.2-6.2-1.7-2-3.5-2.7-5.3-2.2-1.5.4-2.9 1.7-4.2 3.7-1.1 1.7-2 3.8-2.6 5.9-.6 2.1-.7 3.6-.4 4.5.9.3 2.3.3 4.5 0a14 14 0 0 0 6.2-1.7zm-12-9.1c1.1-2.2 1.4-4 .8-5.5-.7-1.9-2.5-3.1-5.4-3.7-2.5-.6-4.4-.1-5.5 1.4-.9 1.2-1.4 3-1.2 5.5.1 2.1.6 4.2 1.5 6.4.8 2 1.5 3.3 2.3 3.9a20 20 0 0 0 7.5-8zm13.6 24.3c2.4.4 4.2.1 5.5-.9 1.5-1.2 2.1-3.3 1.8-6.3-.2-2.6-1.3-4.1-3-4.8-1.5-.5-3.3-.3-5.6.6-1.9.8-3.8 1.9-5.5 3.3-1.7 1.4-2.7 2.5-2.9 3.5.6.7 1.7 1.6 3.6 2.6 2.1 1.1 4.1 1.8 6.1 2z"
            ></path>
            <path
              class="logo-alsacreations-pepins-inner"
              d="M214.4 7.8c-.9-.2-1.5 0-1.9.5-.3.4-.5 1.1-.4 1.9.1.7.2 1.5.5 2.2.2.7.6 1.2.8 1.4l1.2-.9c.6-.6 1.1-1.2 1.4-1.8.4-.7.5-1.4.3-1.9-.3-.7-1-1.2-1.9-1.4zm14 6.1c-.6-.7-1.2-.9-1.9-.7-.5.1-1 .6-1.5 1.3-.4.6-.7 1.3-.9 2.1-.2.7-.2 1.2-.1 1.5h1.5c.8-.1 1.5-.3 2.2-.7.7-.4 1.2-.8 1.4-1.4.2-.6 0-1.4-.7-2.1zm4.9 14c-.1-.9-.4-1.5-1.1-1.7-.5-.2-1.2-.1-2 .2-.7.3-1.4.7-1.9 1.2-.6.5-.9.9-1.1 1.2.2.2.6.6 1.3.9.7.4 1.5.6 2.2.7.8.1 1.5 0 1.9-.3.6-.5.9-1.2.7-2.2z"
            ></path>
          </g>
          <path
            class="logo-alsacreations-alsa"
            d="m1.5 25.1-.1-.6.1-.6a12.7 12.7 0 0 1 9-2.2c3.8.2 5 2.6 5 6.7v2l-.1 5.3-.1 4s-.1 2.1 1.3 1.9l-.1 2c-.4.6-1.5 1.3-2.9 1.3a4 4 0 0 1-2.8-1.4l-1.1.7c-1.1.6-2.3.7-3.6.7-3.1 0-6.1-2-6.1-6.3 0-5.7 5.3-7.4 8.2-7.7l1.4-.1 1.1.1v-2.3c0-2-.2-3-1.7-3s-3.3.7-4.7 1.2c-.5.2-1.1.4-1.7.4-.8-.9-1-1.7-1.1-2.1zm9.1 12V34h-.5l-1.5.1h.1c-2 .4-3.8 1.3-3.8 4 0 2.2.9 3 2 3h.3c1.2 0 2.7-.6 3.2-1.4l-.1.1.1-.6c.2-.5.2-1.2.2-2.1zm16.2 4.4-.1 2c-.5.7-1.5 1.3-2.9 1.3-.7 0-1.4-.3-1.9-.7a3 3 0 0 1-1.4-2.5v-24l-.1-5.2c.6-1.3 2.3-1.5 4.6-1.5.3 1.1.3 2.2.3 4.6v24.1c.1.1 0 2.2 1.5 1.9zm11.6-19.9c3 .2 4.4 1.5 4.6 2.1 0 .6-.4 1.7-.9 2.4l-.9-.2-1.5-.4c-.7-.3-1.4-.4-2.1-.4-1.7 0-2.7.9-2.7 2.2 0 .7.3 1.4 1.3 2.2l2 1.4 2.7 2c2 1.7 2.9 3.3 2.9 5.3 0 4.5-3.6 6.7-8.2 6.7-3 0-5.7-.9-6.2-2.3 0-.7.4-1.8.9-2.5h.5c.4 0 .9.1 1.4.4v-.1c1 .4 2.2.7 3.3.7l.9-.1c1.4-.1 2.3-1.1 2.3-2.5 0-1.1-.5-1.9-1.8-2.8l-.6-.4c-1.1-.7-2.3-1.7-3.2-2.5l-1.3-.8c-1.5-1.5-2.2-2.9-2.2-4.6 0-3.7 3-5.9 7.5-5.9l1.3.1zm8.9 3.5-.1-.6.1-.6a12.7 12.7 0 0 1 9-2.2c3.8.2 5 2.6 5 6.7v2l-.1 5.3-.1 4s-.1 2.1 1.3 1.9l-.1 2c-.4.6-1.5 1.3-2.9 1.3a4 4 0 0 1-2.8-1.4l-1.1.7c-1.1.6-2.3.7-3.6.7-3.2 0-6.2-2-6.2-6.4 0-5.7 5.3-7.4 8.2-7.7l1.4-.1 1.1.1v-2.3c0-2-.2-3-1.7-3s-3.3.7-4.7 1.2c-.5.2-1.1.4-1.7.4-.8-.8-.9-1.6-1-2zm9.1 12V34h-.5l-1.5.1h.1c-2 .4-3.8 1.3-3.8 4 0 2.2.9 3 2 3h.3c1.2 0 2.7-.6 3.2-1.4l-.1.1.1-.6c.2-.5.2-1.2.2-2.1z"
          ></path>
          <path
            class="logo-alsacreations-creations"
            d="M80.8 23.6c0 .6-.3 1.7-.7 2.5h-.6a4 4 0 0 1-1.5-.3 7 7 0 0 0-2.5-.6 1 1 0 0 0-.5.1c-2.7.2-4.6 2.7-4.6 8.1 0 6.5 2.7 7.9 5.4 7.9 1.5 0 3.1-.5 4.3-1.1l.4 1.8c-.1.7-.6 1.5-1.2 2-.9.7-2.5 1.1-4.4 1.1-5.2 0-9.8-1.9-9.8-11.4 0-4.9 1.7-8 3.5-9.8a9.8 9.8 0 0 1 6.7-2.3c3-.1 5.3 1.3 5.5 2zm8.3 3.5V42c0 .7-.1 1.3-.5 1.9-.7.6-1.5.6-4.5.6l.1-9.3.1-7.9c0-1.5-.3-2.6-.6-3.5.4-.4 1-.7 2-1.2l.7-.1c1 0 1.4.3 1.7.9.9-.6 1.9-1.1 2.8-1.4.8-.3 1.9-.5 2.7-.4 1.4.1 2.2.6 2.3 1.3 0 .7-.2 2-.9 3l-.7.1-1.4-.1-.6-.1c-1.3.1-2.3.4-3.2 1.3zM113 39.7c.3.9.4 1.9.5 2.3-.1 1-1.6 2-3 2.5h.1c-.7.2-2.2.5-3.6.5-2.3 0-4.8-.4-6.6-2.3-1.7-1.8-2.6-4.8-2.6-8.6 0-9.2 4-12.5 9.3-12.5 4.5 0 6.8 2.7 7.2 6.7l.1 2.3-.2 2.8c-.6.5-2.3 1.1-3.6 1.3-1.5.2-3.8.3-6.1.3h-1.7c.1 4.7 2 6.2 5 6.2 1.6-.2 3.4-.5 5.2-1.5zM106.2 25c-1.7.2-3.3 2.2-3.6 6.4h1.3l4.5-.1.7-.2.2-1.4-.1-.5v-.5c-.2-2.5-1.1-3.7-2.8-3.7h-.2zm11.7.1-.1-.6.1-.6a12.7 12.7 0 0 1 9-2.2c3.8.2 5 2.6 5 6.7v2l-.1 5.3-.1 4s-.1 2.1 1.3 1.9l-.1 2c-.4.6-1.5 1.3-2.9 1.3a4 4 0 0 1-2.8-1.4l-1.1.7c-1.1.6-2.3.7-3.6.7-3.2 0-6.2-2-6.2-6.4 0-5.7 5.3-7.4 8.2-7.7l1.4-.1 1.1.1v-2.3c0-2-.2-3-1.7-3s-3.3.7-4.7 1.2c-.5.2-1.1.4-1.7.4-.7-.8-.9-1.6-1-2zm9.1 12V34h-.5l-1.5.1h.1c-2 .4-3.8 1.3-3.8 4 0 2.2.9 3 2 3h.3c1.2 0 2.7-.6 3.2-1.4l-.1.1.1-.6c.2-.5.2-1.2.2-2.1zm21.6 3.4.1 1.1-.1 1.3c-.1.3-.3.6-.7.9a8.7 8.7 0 0 1-4.4 1.1c-4.7 0-5.6-4.2-5.6-8V25.8a6.3 6.3 0 0 1-2.8-.7c0-1.4.1-1.4.4-1.7.7-.5 1.4-.7 2-.9l.7-.1.2-4.1c.4-1.1 1.6-2 4.5-2.2v.7l-.1 5.3h6c-.1 2.7-.5 3.2-1.5 3.5l-1.2.1-3.3.1-.1 6.1.1 3v2.2c.2 2.5.5 4.2 2 4.2.6.1 2.5-.6 2.8-.9l1 .1zm6.3-29c2.2 0 2.7.9 2.6 2.7-.1 1.8-.6 3-2.8 3-1.9 0-2.7-.9-2.7-2.9 0-1.8 1-2.8 2.9-2.8zm1.9 10.6c.4.7.4 1.4.4 3.4v15.8c0 1.1-.2 1.9-.7 2.6-.3.5-1.1.5-4.4.6v-3.8l.1-4.3v-8.2l-.1-4.8c.6-1.2 2.2-1.3 4.3-1.3h.4zm13.6 22.8c-6 0-9.4-3.5-9.4-11.7 0-8.1 4-11.8 9.5-11.8 6.2 0 9.3 4 9.3 11.5 0 8-4 12-9.4 12zm.1-3.4c2.2 0 4.1-2.1 4.1-8.3 0-5.9-1.7-8.1-4.2-8.1-2.2 0-4.2 2.2-4.2 8 0 6.3 1.8 8.4 4.3 8.4zm18-14.2.1-.1v14.5c0 1.1-.1 1.6-.6 2.3-.7.6-1.2.6-3.3.6h-1.2l.1-9.3v-7.9c0-1.5-.2-2.6-.5-3.5.3-.4.9-.7 2-1.2l.7-.1c.9 0 1.4.4 1.7 1a10 10 0 0 1 5.8-1.9c5.9 0 7 3 7 8.3v7l.1 6.7c-.6.6-1.5.7-4.6.7a4 4 0 0 1-.5-2.1V30c0-3.4-.8-4.6-3.2-4.6-1.4 0-2.7.8-3.6 1.9zm24.7-5.7c3 .2 4.4 1.5 4.6 2.1 0 .6-.4 1.7-.9 2.4l-.9-.2-1.5-.4c-.7-.3-1.4-.4-2.1-.4-1.7 0-2.7.9-2.7 2.2 0 .7.3 1.4 1.3 2.2l2 1.4 2.7 2c2 1.7 2.9 3.3 2.9 5.3 0 4.5-3.6 6.7-8.2 6.7-3 0-5.7-.9-6.2-2.3 0-.7.4-1.8.9-2.5h.5c.4 0 .9.1 1.4.4v-.1c1 .4 2.2.7 3.3.7l.9-.1c1.4-.1 2.3-1.1 2.3-2.5 0-1.1-.5-1.9-1.8-2.8l-.6-.4c-1.1-.7-2.3-1.7-3.2-2.5l-1.2-.9c-1.5-1.5-2.2-2.9-2.2-4.6 0-3.7 3-5.9 7.5-5.9l1.2.2zm-110.1-3.4s.5-3.2 1.9-5.1c1.5-2.1 3.9-3.3 5.5-1.3 1.2 1.4.9 2.9-1.6 4.5-3.1 1.9-5.8 1.9-5.8 1.9z"
          ></path>
        </svg>
      </a>
    </footer>
    <script type="module" src="script.js"></script>
  </body>
</html>
